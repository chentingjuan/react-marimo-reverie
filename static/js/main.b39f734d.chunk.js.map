{"version":3,"sources":["components/MatchHOC/TransitionMatchHOC.module.scss","components/Loading.jsx","hooks/useContextSPATransitionLock.js","components/Link/LinkWithTransitionLock.jsx","components/Link/index.js","assets/icons/clock.svg","utils.js","components/Header.jsx","assets/icons/sound-on.svg","assets/icons/question-mark.svg","components/Footer.jsx","pages/Home.jsx","assets/images/real-picture.png","pages/About.jsx","pages/Rules.jsx","sketches/sketch.js","constant/user-colors.js","hooks/useContextUserData.js","pages/Game.jsx","sketches/sketch-track.js","pages/TheEnd.jsx","route.conf.js","components/MatchHOC/index.js","components/MatchHOC/TransitionMatchHOC.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Loading","useEffect","gsap","to","duration","delay","opacity","pointerEvents","END_TRANSITION","ContextStore","React","createContext","SPA","isTransitionDone","dispatchTransitionType","isTransitionDoneReducer","state","action","type","Object","assign","ContextProvider","children","useReducer","Provider","value","basepath","pjson","LinkWithTransitionLock","restProps","useContext","location","useLocation","prevPath","pathname","style","formattedTimer","x","min","Math","floor","sec","deg","Header","props","propTypes","mode","PropTypes","string","time","number","defaultProps","Footer","Home","About","Rules","sketch","p5","windowWidth","windowHeight","colors","split","map","a","marimos","numOfMarimos","nutritions","numOfNutritions","freqOfNurition","user","bubbles","playTimerInterval","countDownTimerInterval","countDownTimer","started","myCustomRedrawAccordingToNewPropsHandler","theProps","clickedStart","startGame","setup","frameRate","createCanvas","noStroke","area","i","push","Marimo","position","getRandomPosition","vector","constructor","Vector","random2D","diameter","int","random","color","length","User","console","log","setInterval","clearInterval","Nutrition","setTime","prevState","draw","eateningTimer","background","frameCount","forEach","m","update","mm","j","isCollide","delta","copy","sub","mult","setMag","add","filter","n","eaten","toSize","pixelWidth","eatening","acceleration","isGameOver","newMarimo","createVector","dividingCount","mRadius","offset","Bubble","b","y","textSize","text","pop","params","this","matrix","generateBallMatrix","drawPixelCircle","maxVector","generateCircleMatrix","userColor","dx","mouseX","dy","mouseY","abs","setUserPath","preState","aPosition","bPosition","aDiameter","bDiameter","maxPossibleDist","dist","filled","radius","sqrt","pow","distance","fatfilled","ceil","borderColor","lerpColor","color_1","color_2","color_3","color_4","color_5","maxblocks","translate","xp","yp","fill","rect","data","initState","userName","setUserName","setUserColor","userPlayedTime","setUserPlayedTime","userPath","useState","userDataContext","GamePage","setStarted","setNumOfMarimos","contextType","index","circle","TheEnd","path","Component","Game","TransitionMatchHOC","match","Transition","in","appear","mountOnEnter","unmountOnExit","addEndListener","node","done","ease","Power3","easeInOut","onComplete","id","className","sty","cloneElement","App","routerConfig","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b39f734d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TransitionMatchHOC\":\"TransitionMatchHOC_TransitionMatchHOC__2_G2D\"};","import React, { useEffect } from \"react\";\nimport { gsap, Power4 } from \"gsap\";\n\nconst Loading = () => {\n  useEffect(() => {\n    gsap.to(\"#loading-wrapper\", {\n      duration: 1,\n      delay: 3,\n      opacity: 0,\n      pointerEvents: 'none'\n      // ease: Power4.easeOut,\n    });\n    gsap.to(\".loader\", {\n      duration: 1,\n      delay: 2,\n      opacity: 0,\n    })\n  }, []);\n\n  return pug`\n    div(id=\"loading-wrapper\")\n      div(className=\"loader\")\n        span M\n\n        span a\n\n        span r\n\n        span i\n\n        span m\n\n        span o\n\n        span _\n\n        span R\n\n        span ê\n\n        span v\n\n        span e\n\n        span r\n\n        span i\n\n        span e\n  `\n}\n\nexport default Loading;","import React, { useReducer } from \"react\";\nimport PropTypes from \"prop-types\";\nexport const START_TRANSITION = \"START_TRANSITION\";\nexport const END_TRANSITION = \"END_TRANSITION\";\n\nexport const ContextStore = React.createContext({\n  SPA: {\n    isTransitionDone: true,\n    dispatchTransitionType: () => {},\n  },\n});\n\nfunction isTransitionDoneReducer(state, action) {\n  switch (action.type) {\n    case \"START_TRANSITION\":\n      return Object.assign({}, state, {\n        isTransitionDone: true,\n      });\n    case \"END_TRANSITION\":\n      return Object.assign({}, state, {\n        isTransitionDone: true,\n      });\n    default:\n      return state;\n  }\n}\n\nconst ContextProvider = ({ children }) => {\n  const [isTransitionDone, dispatchTransitionType] = useReducer(\n    isTransitionDoneReducer,\n    {\n      isTransitionDone: true,\n    }\n  );\n\n  return (\n    <ContextStore.Provider\n      value={{\n        SPA: isTransitionDone,\n        dispatchTransitionType,\n      }}\n    >\n      {children}\n    </ContextStore.Provider>\n  );\n};\n\nContextProvider.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nexport default ContextProvider;\n","import React, { useRef, useState, useCallback, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link, useLocation } from \"@reach/router\";\n\nimport { ContextStore } from \"../../hooks/useContextSPATransitionLock.js\";\n\nimport pjson from \"./../../../package.json\";\n\nconst basepath = pjson.basepath\n\nconst LinkWithTransitionLock = ({ children, to, ...restProps }) => {\n  const { SPA: isTransitionDone } = React.useContext(ContextStore);\n  const location = useLocation();\n\n  return (\n    <Link\n      {...restProps}\n      to={ basepath + to } \n      state={{ prevPath: location.pathname }}\n      style={{ pointerEvents: isTransitionDone ? \"default\" : \"none\" }}\n    >\n      {children}\n    </Link>\n  );\n};\n\nLinkWithTransitionLock.propTypes = {\n  children: PropTypes.object.isRequired,\n  to: PropTypes.object.isRequired,\n};\n\nexport default LinkWithTransitionLock;\n","import LinkWithTransitionLock from \"./LinkWithTransitionLock.jsx\"\n\nexport default LinkWithTransitionLock\n","export default __webpack_public_path__ + \"static/media/clock.53cecabe.svg\";","export const formattedTimer = (x) => {\n  const min = Math.floor(x/3600)%60;\n  const sec = Math.floor(x/60)%60;\n  const deg = x%60;\n  return `${min<10?`0${min}`:min}:${sec<10?`0${sec}`:sec}:${deg<10?`0${deg}`:deg}`\n}","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { gsap, Power4 } from \"gsap\";\n\nimport Link from \"./../components/Link\"\n\nimport iconClock from \"./../assets/icons/clock.svg\";\nimport { formattedTimer } from \"./../utils\";\n\nconst Header = props => pug`\n  header(className=props.mode)\n    Link(to=\"/\" className=\"logo\") \n      span Marimo\n      span Rêverie\n\n    if props.time !== -1\n      div(className=\"time\")\n        img(src=iconClock alt=\"\")\n        span #{formattedTimer(props.time)}\n`;\n\nHeader.propTypes = {\n  mode: PropTypes.string,\n  time: PropTypes.number\n};\n\nHeader.defaultProps = {\n  mode: 'normal',\n  time: -1,\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/sound-on.e2a611b6.svg\";","export default __webpack_public_path__ + \"static/media/question-mark.9224245e.svg\";","import React, { useEffect } from \"react\";\nimport { gsap, Power4 } from \"gsap\";\nimport Link from \"../components/Link\";\n\nimport iconSoundOn from \"./../assets/icons/sound-on.svg\";\nimport iconQuestionMark from \"./../assets/icons/question-mark.svg\";\n\nconst Footer = () => pug`\n  footer\n    Link(to=\"/about\") About\n\n    Link(to=\"/rules\")\n      img(src=iconQuestionMark)\n\n    Link(to=\"/\")\n      img(src=iconSoundOn)\n`;\n\nexport default Footer;","import React, { useEffect } from \"react\";\nimport { gsap, Power4 } from \"gsap\";\nimport Link from \"../components/Link\";\n\nimport Header from \"./../components/Header\";\nimport Footer from \"./../components/Footer\";\n\nconst Home = () => pug`\n  section(className=\"section-page home\")\n    Header\n\n    Link(to=\"/game\" className=\"btn btn-hl\") Play Game\n\n    Footer\n`;\n\nexport default Home;","export default __webpack_public_path__ + \"static/media/real-picture.57f4429d.png\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { gsap, Power4 } from \"gsap\";\nimport Link from \"../components/Link\";\nimport { navigate, useLocation } from \"@reach/router\";\n\nimport realPic from \"./../assets/images/real-picture.png\";\n\nconst About = () => {\n  const location = useLocation();\n\n  return pug`\n    section(className=\"section-page about\")\n      h1(className=\"title\") About\n      \n      div(className=\"content\")\n        p Marimo Rêverie is a web-browser game that connects to an actual marimo terrarium with sensors. The avatars of algae in cyberspace are constantly changing with their living environment in real time, floating around and competing with the player for generative nutrients in the browser window.\n        \n        img(src=realPic alt=\"My Marimo\")\n\n      div(className=\"btn-wrapper\")\n        if !location.state\n          Link(to=\"/\" className=\"btn btn-hl\") Got it\n          \n        else\n          a(onClick=()=>navigate(-1) className=\"btn btn-hl\") Got it\n  `;\n}\n\nexport default About;","import React, { useEffect } from \"react\";\nimport { gsap, Power4 } from \"gsap\";\nimport Link from \"../components/Link\";\nimport { navigate, useLocation } from \"@reach/router\";\n\nconst Rules = () => {\n  const location = useLocation();\n\n  return pug`\n    section(className=\"section-page rules\")\n      h1(className=\"title\") The Rules\n      \n      div(className=\"content\")\n        p You will need to compete with the algae for the nutrients floating in the window. The more nutrients you get, the bigger you will become.\n        \n        p When the marimos get enough nutrients, they will split. The nutrients points will be regenerated all the time, so the game will become more and more difficult. When the marimos touch the player, the nutrients will be taken away, and the player will become smaller. I will feed the nutrition powder based on the score received by marimos.\n        \n      div(className=\"btn-wrapper\")\n        if !location.state\n          Link(to=\"/\" className=\"btn btn-hl\") Got it\n          \n        else\n          a(onClick=()=>navigate(-1) className=\"btn btn-hl\") Got it\n  `;\n}\n\nexport default Rules;","\n// import { vert, frag } from './tab2';\n\nexport default function sketch(p5) {\n  const { windowWidth, windowHeight } = p5;\n  let colors = \"a2ca3d-81bc3f-5fad41-3e954b-2d8950-1c7c54-48af7e\".split(\"-\").map(a=>\"#\"+a);\n  let marimos = [], numOfMarimos = 10, nutritions = [], numOfNutritions = 5, freqOfNurition = 50;\n  let user = null;\n  let bubbles = [], sounds = [];\n  const chewingTime = 300, eateningTime = 25;\n  const userEasing = 0.03;\n  const nutritionColor = '#6B705C';\n  // const nutritionColor = '#fff';\n  let props = {};\n  let pixelWidth = 6;\n  let playTimerInterval = null;\n  let countDownTimerInterval = null, countDownTimer = 3;\n  let started = false;\n  // const userTrackInterval = 20;\n\n  p5.myCustomRedrawAccordingToNewPropsHandler = (theProps) => {\n    if(props.clickedStart !== theProps.clickedStart && theProps.clickedStart) {\n      startGame();\n    }\n    props = theProps;\n  };\n\n  p5.setup = () => {\n    p5.frameRate(30);\n    p5.createCanvas(windowWidth, windowHeight);\n    p5.noStroke();\n    const area = windowWidth*windowHeight;\n    numOfMarimos = Math.floor(area/90000);\n    numOfNutritions = Math.floor(area/90000);\n    freqOfNurition = Math.floor(40000000/area);\n\n    // create marimos\n    for(let i=0; i<numOfMarimos; i++){\n      marimos.push(new Marimo({\n        position: getRandomPosition(),\n        vector: p5.constructor.Vector.random2D(),\n        diameter: p5.int(p5.random(10, 24)) * pixelWidth,\n        color: colors[Math.floor(p5.random(colors.length))],\n      }));\n    }\n\n    user = new User();\n  }\n\n  const startGame = () => {\n    console.log('starttedd')\n    countDownTimer=3;\n\n    countDownTimerInterval = setInterval(() => {\n      if(countDownTimer>1) {\n        countDownTimer--;\n      } else {\n        clearInterval(countDownTimerInterval);\n\n        // create nutritions\n        for(let i=0; i<numOfNutritions; i++){\n          nutritions.push(new Nutrition({\n            position: getRandomPosition(),\n          }))\n        }\n        \n        playTimerInterval = setInterval(() => {\n          props.setTime(prevState => prevState+1);\n        }, 1000/60);\n\n        started = true;\n      }\n    }, 1000);\n  }\n\n  p5.draw = () => {\n    if(started && user.eateningTimer%10 > 5) p5.background('black');\n    else p5.background('#DEF0F7');\n\n    if(started) {\n      if (p5.frameCount%freqOfNurition === 0) {\n        let position = getRandomPosition();\n        nutritions.push(new Nutrition({\n          position,\n        }))\n      }\n    }\n    \n    // marimos...\n    marimos.forEach((m, i) => {\n      m.update();\n      m.draw();\n      // if(m.chewing) m.chewingTimer--;\n      // if(m.chewingTimer<=0) {\n      //   m.chewing=false;\n      //   m.chewingTimer = chewingTime;\n      // }\n\n      // hit other marimos\n      marimos.forEach((mm, j) => {\n        if (i>j){\n          // if (mm.position.dist(m.position)<(mm.diameter+m.diameter)/2) {\n          //   //add sounds\n          //   // \n          // }\n\n          // if (mm.position.dist(m.position)<(mm.diameter+m.diameter)/2.1) {\n          if(isCollide(mm.position, m.position, mm.diameter, m.diameter)) {\n            let delta = m.position.copy().sub(mm.position)\n            mm.vector.sub(delta.mult(0.2).setMag(1))\n            m.vector.add(delta.mult(0.2).setMag(1))\n          }\n        }\n      })\n      \n      // hit nutritions\n      nutritions.filter(n => !n.eaten).forEach(n => {\n        // if(m.position.dist(n.position)<(m.diameter+n.diameter)/2) {\n        if(isCollide(m.position, n.position, m.diameter, n.diameter)) {\n          m.toSize(m.diameter + pixelWidth);\n          n.eaten=true;\n        }\n      })\n      \n      // hit user\n      if(started) {\n        if(user.diameter>pixelWidth*1) {\n          // if(!m.chewing && m.position.dist(user.position)<(m.diameter+user.diameter)/2) {\n          // if(m.position.dist(user.position)<(m.diameter+user.diameter)/2) {\n          if(isCollide(m.position, user.position, m.diameter, user.diameter)) {\n            m.toSize(m.diameter + pixelWidth);\n            // m.chewing = true;\n            user.eatening = true;\n            user.toSize(user.diameter - pixelWidth);\n\n            let delta = m.position.copy().sub(user.position);\n            user.acceleration.sub(delta.mult(6))\n            m.vector.add(delta.mult(0.1).setMag(1))\n          }\n        } else {\n          clearInterval(playTimerInterval);\n          props.isGameOver();\n        }\n      }\n      \n      // divide\n      if(m.diameter>=pixelWidth*32) {\n        // m.toSize(pixelWidth*15);\n        const newMarimo = new Marimo({\n          position: m.position.copy().add(20, 0),\n          vector: p5.createVector(0, 0),\n          diameter: 0,\n          color: m.color,\n        })\n        m.dividingCount = -8;\n        newMarimo.dividingCount = 8;\n        marimos.push(newMarimo);\n      }\n      \n      // add bubbles\n      if (p5.random()<0.01){\n        const mRadius = m.diameter/2;\n        const offset = p5.random(-mRadius, mRadius);\n        bubbles.push(new Bubble({\n          position: m.position.copy().add(offset),\n          vector: p5.createVector(0, p5.random(-0.5,-5)),\n          diameter: p5.floor(p5.random(1,3))*pixelWidth,\n          opacity: p5.random(0.1, 1)\n        }))\n      }\n    })\n    \n    // nutritions...\n    nutritions.filter(n => !n.eaten).forEach(n => {\n      n.draw()\n      \n      // hit user\n      if(isCollide(user.position, n.position, user.diameter, n.diameter)) {\n        user.toSize(user.diameter + pixelWidth);\n        n.eaten=true;\n      }\n    });\n    \n    // bubbles...\n    bubbles.forEach(b=>{\n      b.draw();\n      b.update();\n    })\n    bubbles = bubbles.filter(b=>b.position.y>-windowHeight/2)\n    \n    user.update();\n    user.draw();\n    if(user.eatening) user.eateningTimer--;\n    if(user.eateningTimer<=0) {\n      user.eatening=false;\n      user.eateningTimer = eateningTime;\n    }\n\n    if(!started) {\n      p5.push();\n        p5.textSize(100);\n        p5.text(countDownTimer, windowWidth/2, windowHeight/2);\n      p5.pop();\n    }\n  }\n\n  class Marimo {\n    constructor(params) {\n      this.position = params.position;\n      this.vector = params.vector;\n      this.diameter = params.diameter;\n      this.color = params.color;\n      // this.chewing = false;\n      // this.chewingTimer = chewingTime;\n      this.dividingCount = 0;\n      // this.colliding=false;\n      this.matrix = generateBallMatrix(this.color, this.diameter);\n    }\n    draw() {\n      drawPixelCircle(this.matrix, this.position);\n    }\n    update() {\n      this.position.add(this.vector)\n      if(p5.frameCount%900===0) this.vector.mult(0.9)\n\n      if(this.dividingCount!==0) {\n        if(this.dividingCount>0) {\n          this.toSize(this.diameter+pixelWidth*2)\n          this.dividingCount--;\n        } else {\n          this.toSize(this.diameter-pixelWidth*2)\n          this.dividingCount++;\n        }\n      }\n      \n      // hit the wall\n      if(this.position.x <= 0 || this.position.x > windowWidth) this.vector.x = -1.3*this.vector.x;\n      if(this.position.y <= 0 || this.position.y > windowHeight) this.vector.y = -1.3*this.vector.y;\n      \n      const maxVector = 2.4;\n      if(this.vector.x > maxVector) this.vector.x = maxVector;\n      if(this.vector.x < -1*maxVector) this.vector.x = -1*maxVector;\n      if(this.vector.y > maxVector) this.vector.y = maxVector;\n      if(this.vector.y < -1*maxVector) this.vector.y = -1*maxVector;\n    }\n    toSize(diameter) {\n      this.diameter=diameter;\n      this.matrix = generateBallMatrix(this.color, this.diameter);\n    }\n  }\n\n  class Nutrition {\n    constructor(params) {\n      this.position = params.position;\n      this.diameter = 4;\n      this.color = nutritionColor;\n      this.eaten=false;\n      this.matrix = generateCircleMatrix(this.color, this.diameter);\n    }\n    draw() {\n      drawPixelCircle(this.matrix, this.position);\n    }\n  }\n\n  class Bubble {\n    constructor(params) {\n      this.position = params.position;\n      this.vector = params.vector;\n      this.diameter = params.diameter;\n      // this.color = params.color;\n      this.color = `rgba(255, 255, 255, ${params.opacity})`;\n      this.matrix = generateCircleMatrix(this.color, this.diameter);\n    }\n    draw() {\n      drawPixelCircle(this.matrix, this.position);\n    }\n    update() {\n      this.position.y+=this.vector.y;\n    }\n  }\n\n  class User {\n    constructor(params) {\n      this.position = p5.createVector(0, 0);\n      this.vector = p5.createVector(0, 0);\n      this.acceleration = p5.createVector(0, 0);\n      this.diameter = pixelWidth*3;\n      // this.eatenable = true;\n      this.color = 'black';\n      this.eatening = false;\n      this.eateningTimer = eateningTime;\n      this.matrix = generateBallMatrix(this.color, this.diameter);\n    }\n    draw() {\n      drawPixelCircle(this.matrix, this.position);\n    }\n    update() {\n      if(props.userColor !== this.color) {\n        this.color = props.userColor;\n        this.matrix = generateBallMatrix(this.color, this.diameter);\n      }\n\n      this.vector.add(this.acceleration);\n      this.acceleration.mult(0.9);\n    \n      const dx = p5.mouseX - this.position.x;\n      const dy = p5.mouseY - this.position.y;\n      if(p5.abs(dx) < pixelWidth && p5.abs(dy) < pixelWidth && p5.abs(this.vector.x) < pixelWidth && p5.abs(this.vector.y) < pixelWidth) {\n        this.position.x = p5.mouseX;\n        this.position.y = p5.mouseY;\n      } else {\n        const delta = p5.createVector(dx, dy);\n        // this.vector.add(dx, dy).mult(userEasing);\n        this.vector.add(delta.setMag(180)).mult(userEasing);\n\n        this.position.add(this.vector);\n      }\n\n      if(started) props.setUserPath(preState => [...preState, { x: p5.mouseX, y: p5.mouseY }]);\n    }\n    toSize(diameter) {\n      this.diameter=diameter;\n      this.matrix = generateBallMatrix(this.color, this.diameter);\n    }\n  }\n\n  const getRandomPosition = () => p5.createVector(p5.random(0, windowWidth), p5.random(0, windowHeight));\n\n  const isCollide = (aPosition, bPosition, aDiameter, bDiameter) => {\n    const maxPossibleDist = (aDiameter+bDiameter)/2;\n    if(p5.abs(aPosition.x-bPosition.x) <= maxPossibleDist && p5.abs(aPosition.y-bPosition.y) <= maxPossibleDist) {\n      if(aPosition.dist(bPosition)<maxPossibleDist) {\n        return true\n      }\n    }\n    return false;\n  }\n\n  const distance = ( x, y ) => Math.sqrt((Math.pow(y, 2)) + Math.pow(x, 2));\n  const filled = ( x, y, radius ) => distance(x, y) <= radius;\n\tconst\tfatfilled = ( x, y, radius ) => {\n    return filled(x, y, radius) && !(\n      filled(x + 1, y, radius) &&\n      filled(x - 1, y, radius) &&\n      filled(x, y + 1, radius) &&\n      filled(x, y - 1, radius) &&\n      filled(x + 1, y + 1, radius) &&\n      filled(x + 1, y - 1, radius) &&\n      filled(x - 1, y - 1, radius) &&\n      filled(x - 1, y + 1, radius)\n    );\n  };\n\n  const generateBallMatrix = (color, diameter) => {\n    // if(!color) return false\n    const radius = Math.ceil(diameter/pixelWidth)/2;\n    const borderColor = p5.lerpColor(p5.color('black'), p5.color(color), 0.6);\n    const color_1 = p5.lerpColor(p5.color('black'), p5.color(color), 0.66);\n    const color_2 = p5.lerpColor(p5.color('black'), p5.color(color), 0.9);\n    const color_3 = color;\n    const color_4 = p5.lerpColor(p5.color('white'), p5.color(color), 0.9);\n    const color_5 = p5.lerpColor(p5.color('white'), p5.color(color), 0.8);\n\n    let maxblocks = ((radius*2)%2 === 0) ? Math.ceil(radius - .5) * 2 + 1 : Math.ceil(radius) * 2;\n\n    let matrix = [], i = 0;\n    for( let y = -maxblocks / 2 + 1; y <= maxblocks / 2 - 1; y++ ) {\n      matrix[i] = [];\n      for( let x = -maxblocks / 2 + 1; x <= maxblocks / 2 - 1; x++ ) {                \n        if(filled(x, y, radius)) {\n          if(fatfilled(x, y, radius) && !(fatfilled(x + (x > 0 ? 1 : -1), y, radius) && fatfilled(x, y + (y > 0 ? 1 : -1), radius))) {\n            matrix[i].push(borderColor)\n          } else if(filled(x+2, y+2, 1)) {\n            matrix[i].push(color_5);\n          } else if(filled(x+2, y+2, radius-7)) {\n            p5.random()<0.3 ? matrix[i].push(color_5) : matrix[i].push(color_4);\n          } else if(filled(x+2, y+2, radius-6)) {\n            matrix[i].push(color_4)\n          } else if(filled(x+2, y+2, radius-4)) {\n            p5.random()<0.3 ? matrix[i].push(color_4) : matrix[i].push(color_3);\n          } else if(filled(x+1, y+1, radius-3)) {\n            matrix[i].push(color_3)\n          } else if(filled(x+1, y+1, radius-2)) {\n            p5.random()<0.3 ? matrix[i].push(color_3) : matrix[i].push(color_2);\n          } else if(filled(x+1, y+1, radius-1)) {\n            matrix[i].push(color_2)\n          } else {\n            matrix[i].push(color_1)\n          }\n        } else {\n          matrix[i].push(null)\n        }\n      }\n      i++;\n    }\n\n    return matrix;\n  }\n\n  const generateCircleMatrix = (color, diameter) => {\n    const radius = Math.ceil(diameter/pixelWidth)/2;\n    let maxblocks = ((radius*2)%2 === 0) ? Math.ceil(radius - .5) * 2 + 1 : Math.ceil(radius) * 2;\n\n    let matrix = [], i = 0;\n    for( let y = -maxblocks / 2 + 1; y <= maxblocks / 2 - 1; y++ ) {\n      matrix[i] = [];\n      for( let x = -maxblocks / 2 + 1; x <= maxblocks / 2 - 1; x++ ) {                \n        if(filled(x, y, radius)) {\n          matrix[i].push(color)\n        } else {\n          matrix[i].push(null)\n        }\n      }\n      i++;\n    }\n\n    return matrix;\n  }\n\n  const drawPixelCircle = (matrix, position) => {\n    p5.push();\n    p5.translate(position.x, position.y);\n    for( let y = 0; y < matrix.length; y++ ) {\n      for( let x = 0; x < matrix.length; x++ ) {\n        if(matrix[y][x]) {\n          const xp = (x - matrix.length/2)*pixelWidth;\n          const yp = (y - matrix.length/2)*pixelWidth;\n\n          p5.fill(matrix[y][x]);\n          p5.rect(xp, yp, pixelWidth);\n        }\n      }\n    }\n    p5.pop();\n  }\n}","const data = ['#219EBC', '#FFB703', '#DC2F02', '#560BAD'];\n\nexport default data;","import React, { createContext, useState } from 'react'\nimport PropTypes from \"prop-types\";\nimport colors from \"./../constant/user-colors\"\n\nconst initState = {\n  userName: '',\n  setUserName: ()=>{},\n  userColor: '',\n  setUserColor: ()=>{},\n  userPlayedTime: -1,\n  setUserPlayedTime: ()=>{},\n  userPath: [],\n  setUserPath: ()=>{},\n}\n\nexport const ContextStore = createContext(initState)\n\nconst ContextProvider = ({ children }) => {\n  const [userName, setUserName] = useState('');\n  const [userColor, setUserColor] = useState(colors[0]);\n  const [userPlayedTime, setUserPlayedTime] = useState(-1);\n  const [userPath, setUserPath] = useState([]);\n\n  const userDataContext = {\n    userName,\n    setUserName,\n    userColor,\n    setUserColor,\n    userPlayedTime,\n    setUserPlayedTime,\n    userPath,\n    setUserPath,\n  };\n\n  return (\n    <ContextStore.Provider value={userDataContext}>\n      {children}\n    </ContextStore.Provider>\n  );\n};\n\nContextProvider.propTypes = {\n  children: PropTypes.object.isRequired,\n};\n\nexport default ContextProvider;","import React, { useState, useContext, useEffect } from \"react\";\nimport { gsap, Power4 } from \"gsap\";\nimport P5Wrapper from \"react-p5-wrapper\";\nimport sketch from \"../sketches/sketch\";\nimport { navigate } from \"@reach/router\";\nimport colors from \"./../constant/user-colors\"\n\n// import UserDataContext from \"./../userDataContext\";\nimport { ContextStore } from \"./../hooks/useContextUserData\";\n\nimport Header from \"./../components/Header\";\n\nimport pjson from \"./../../package.json\";\n\nconst GamePage = () => {\n  const [started, setStarted] = useState(false);\n  const [numOfMarimos, setNumOfMarimos] = useState(0);\n  // const [time, setTime] = useState(null);\n\n  const contextType = useContext(ContextStore);\n  const {\n    userName,\n    setUserName,\n    userColor,\n    setUserColor,\n    userPlayedTime,\n    setUserPlayedTime,\n    userPath,\n    setUserPath,\n  } = contextType;\n\n  useEffect(() => {\n    setUserPlayedTime(0);\n    setUserPath([]);\n  }, []);\n\n  return pug`\n    section(className=\"section-page game\")\n      Header(mode=\"game\", time=userPlayedTime)\n\n      P5Wrapper(\n        sketch=sketch \n        clickedStart=started\n        setNumOfMarimos=setNumOfMarimos\n        time=userPlayedTime\n        setTime=setUserPlayedTime\n        setUserPath=setUserPath\n        userColor=userColor\n        isGameOver=()=>{\n          navigate(pjson.basepath+'/the-end')\n        })\n\n      if !started\n        div(className=\"modal-wrapper\")\n          div(className=\"modal\")\n            div(className=\"form-row\")\n              label Select a color\n              div(className=\"select-items\")\n                each color in colors\n                  div(\n                    style={'backgroundColor': color}\n                    className=(color===userColor)?\"select-item active\":\"select-item\"\n                    onClick=()=>setUserColor(color))\n\n            div(className=\"form-row\")\n              label Enter your name\n              input(\n                defaultValue=userName\n                onChange=e=>setUserName(e.target.value)\n              )\n            \n            div(className=\"btn-wrapper\")\n              a(className=\"btn btn-hl\" onClick=()=>setStarted(true)) Ready\n  `;\n};\n\nexport default GamePage;","export default function sketch(p5) {\n  const { windowWidth, windowHeight } = p5;\n  // let colors = \"a2ca3d-81bc3f-5fad41-3e954b-2d8950-1c7c54-48af7e\".split(\"-\").map(a=>\"#\"+a);\n  // let marimos = [], numOfMarimos = 10, nutritions = [], numOfNutritions = 5;\n  // let user = null;\n  // let bubbles = [], sounds = [];\n  // const chewingTime = 300, eateningTime = 25;\n  // const userColor = '#219EBC';\n  // const userEasing = 0.01;\n  // // const nutritionColor = '#6B705C';\n  // const nutritionColor = '#fff';\n  let props = {};\n  // let pixelWidth = 6;\n  // let playTimerInterval = null;\n  // let countDownTimerInterval = null, countDownTimer = 3;\n  // let started = false;\n  const userTrackInterval = 20;\n  let index = 0;\n\n  p5.myCustomRedrawAccordingToNewPropsHandler = (theProps) => {\n    // if(props.clickedStart !== theProps.clickedStart && theProps.clickedStart) {\n    //   startGame();\n    // }\n    props = theProps;\n  };\n\n  p5.setup = () => {\n    p5.createCanvas(windowWidth, windowHeight);\n    p5.noStroke();\n\n    index = 0;\n  }\n\n  p5.draw = () => {\n    // p5.background('black');\n    p5.fill(props.userColor);\n\n    // if(p5.frameCount%userTrackInterval===0 ) {\n    if(index < props.userPath.length) {\n      p5.circle(props.userPath[index].x, props.userPath[index].y, 3);\n      index++;\n    }\n  }\n}","import React, { useEffect, useContext } from \"react\";\nimport { gsap, Power4 } from \"gsap\";\nimport P5Wrapper from \"react-p5-wrapper\";\nimport sketch from \"../sketches/sketch-track\";\nimport Link from \"./../components/Link\"\n\nimport Header from \"./../components/Header\";\nimport Footer from \"./../components/Footer\";\n\nimport { ContextStore } from \"./../hooks/useContextUserData\";\n\nconst TheEnd = () => {\n  const contextType = useContext(ContextStore);\n  const {\n    userName,\n    setUserName,\n    userColor,\n    setUserColor,\n    userPlayedTime,\n    setUserPlayedTime,\n    userPath\n  } = contextType;\n\n  // useEffect(() => {\n  //   console.log(userPath)\n  // }, []);\n\n  return pug`\n    section(className=\"section-page the-end\") \n      Header(time=userPlayedTime)\n\n      if userPath.length\n        P5Wrapper(\n          sketch=sketch \n          userPath=userPath\n          userColor=userColor)\n\n      div(className=\"content\")\n        h1 Game Over\n        Link(to=\"/game\" className=\"btn btn-hl\") Try Again\n\n      Footer\n  `;\n};\n\nexport default TheEnd;","import Home from \"./pages/Home\";\nimport About from \"./pages/About\";\nimport Rules from \"./pages/Rules\";\nimport Game from \"./pages/Game\";\nimport TheEnd from \"./pages/TheEnd\";\nimport pjson from \"./../package.json\";\n\nconst basepath = pjson.basepath\n\nexport default [\n  { path: basepath + \"/\", Component: Home },\n  { path: basepath + \"/about\", Component: About },\n  { path: basepath + \"/rules\", Component: Rules },\n  { path: basepath + \"/game\", Component: Game },\n  { path: basepath + \"/the-end\", Component: TheEnd },\n];\n","import TransitionMatchHOC from \"./TransitionMatchHOC.jsx\"\n\nexport default TransitionMatchHOC\n","import React from \"react\";\nimport PropTypes, { arrayOf } from \"prop-types\";\nimport { Match } from \"@reach/router\";\nimport { Transition } from \"react-transition-group\";\nimport { gsap, Power3 } from \"gsap\";\n\nimport {\n  START_TRANSITION,\n  END_TRANSITION,\n  ContextStore,\n} from \"../../hooks/useContextSPATransitionLock.js\";\n\nimport sty from \"./TransitionMatchHOC.module.scss\";\n\nconst TransitionMatchHOC = ({ children, path }) => {\n  const { dispatchTransitionType } = React.useContext(ContextStore);\n  \n  return (\n    <Match path={path}>\n      {({ match }) => {\n        // console.log(match);\n        return (\n          <Transition\n            in={match !== null}\n            appear\n            mountOnEnter\n            unmountOnExit\n            addEndListener={(node, done) => {\n              if (match !== null) {\n                // console.log(\"in\");\n                dispatchTransitionType({\n                  type: START_TRANSITION,\n                });\n                gsap.to(node, {\n                  // top: \"5%\",\n                  duration: 0.3,\n                  opacity: 1,\n                  delay: 0.3,\n                  ease: Power3.easeInOut,\n                  onComplete: () => {\n                    dispatchTransitionType({\n                      type: END_TRANSITION,\n                    });\n                    // done();\n                  },\n                });\n              } else {\n                // console.log(\"out\");\n                gsap.to(node, {\n                  // top: \"-5%\",\n                  opacity: 0,\n                  duration: 0.3,\n                  ease: Power3.easeInOut,\n                  // onComplete: done,\n                  onComplete: () => {\n                    dispatchTransitionType({ type: END_TRANSITION });\n                    done();\n                  },\n                });\n              }\n            }}\n          >\n            <div id=\"wrap\" className={sty.TransitionMatchHOC}>\n              {/* {children} */}\n              {React.cloneElement(children, match)}\n            </div>\n          </Transition>\n        );\n      }}\n    </Match>\n  );\n};\n\nTransitionMatchHOC.propTypes = {\n  children: PropTypes.object.isRequired,\n  path: PropTypes.string.isRequired,\n};\n\nexport default TransitionMatchHOC;\n","import React, { useState } from \"react\";\n\nimport './css/main.scss';\nimport Loading from \"./components/Loading.jsx\";\n\nimport routerConfig from \"./route.conf.js\";\nimport TransitionMatchHOC from \"./components/MatchHOC\";\nimport SPATransitionContextProvider from \"./hooks/useContextSPATransitionLock.js\";\n\nimport UserDataContextProvider from \"./hooks/useContextUserData.js\";\n\nfunction App() {  \n  return (\n    <>\n      <Loading />\n\n      <UserDataContextProvider>\n        <SPATransitionContextProvider>\n          {routerConfig.map(({ path, Component }, index) => \n            <TransitionMatchHOC key={index + path} path={path}>\n              <Component />\n            </TransitionMatchHOC>\n          )}\n        </SPATransitionContextProvider>\n      </UserDataContextProvider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}