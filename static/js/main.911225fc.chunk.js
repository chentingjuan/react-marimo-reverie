(this["webpackJsonpreact-marimo-reverie"]=this["webpackJsonpreact-marimo-reverie"]||[]).push([[0],{16:function(t,e,i){t.exports={TransitionMatchHOC:"TransitionMatchHOC_TransitionMatchHOC__2_G2D"}},22:function(t,e,i){},30:function(t,e,i){"use strict";i.r(e);var n=i(1),o=i.n(n),r=i(4),a=i.n(r),c=(i(22),i(3)),s=i(2),h=function(){return Object(n.useEffect)((function(){c.a.to("#loading-wrapper",{opacity:0,duration:1,delay:0,pointerEvents:"none"})})),Object(s.jsx)("div",{id:"loading-wrapper",children:"Marimo R\xeaverie"})},u=i(12),l=i(17),d=i(7),m=i(6),p="END_TRANSITION",f=o.a.createContext({SPA:{isTransitionDone:!0,dispatchTransitionType:function(){}}});function j(t,e){switch(e.type){case"START_TRANSITION":case"END_TRANSITION":return Object.assign({},t,{isTransitionDone:!0});default:return t}}var b=function(t){var e=t.children,i=o.a.useReducer(j,{isTransitionDone:!0}),n=Object(m.a)(i,2),r=n[0],a=n[1];return Object(s.jsx)(f.Provider,{value:{SPA:r,dispatchTransitionType:a},children:e})},v=function(t){var e=t.children,i=Object(l.a)(t,["children"]),n=o.a.useContext(f).SPA;return Object(s.jsx)(d.a,Object(u.a)(Object(u.a)({},i),{},{style:{pointerEvents:n?"default":"none"},children:e}))},O=function(){return Object(s.jsx)("header",{children:Object(s.jsx)(v,{to:"/",children:"Marimo Reverie"})})},g=function(){return Object(s.jsxs)("footer",{children:[Object(s.jsx)(v,{to:"/about",children:"About"}),Object(s.jsx)(v,{to:"/rules",children:"?"})]})},x=function(){return Object(s.jsxs)("section",{className:"section-page home",children:[Object(s.jsx)(O,{}),Object(s.jsx)(v,{to:"/game",children:"Play Game"}),Object(s.jsx)(g,{})]})},w=function(){return Object(s.jsxs)("section",{children:[Object(s.jsx)("h1",{children:"About"}),Object(s.jsx)("p",{children:"Marimo R\xeaverie is a web-browser game that connects to an actual marimo terrarium with sensors. The avatars of algae in cyberspace are constantly changing with their living environment in real time, floating around and competing with the player for generative nutrients in the browser window."}),Object(s.jsx)(v,{to:"/",children:"Got it"})]})},y=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"The Rules"}),Object(s.jsx)("p",{children:"You will need to compete with the algae for the nutrients floating in the window. The more nutrients you get, the bigger you will become."}),Object(s.jsx)("p",{children:"When the marimos get enough nutrients, they will split. The nutrients points will be regenerated all the time, so the game will become more and more difficult. When the marimos touch the player, the nutrients will be taken away, and the player will become smaller. I will feed the nutrition powder based on the score received by marimos."}),Object(s.jsx)(v,{to:"/",children:"Got it"})]})},T=i(15),C=i.n(T),M=i(8),S=i(9);function k(t){var e,i,n=t.windowWidth,o=t.windowHeight,r="a2ca3d-81bc3f-5fad41-3e954b-2d8950-1c7c54-48af7e".split("-").map((function(t){return"#"+t})),a=[],c=10,s=[],h=5;t.myCustomRedrawAccordingToNewPropsHandler=function(t){i=t},t.setup=function(){t.createCanvas(n,o),t.noStroke(),c=Math.floor(n*o/9e4),h=Math.floor(n*o/9e4),setInterval((function(){return i.setTimer(i.timer+1)}),1e3),a=[];for(var p=0;p<c;p++)a.push(new u({position:m(),vector:t.constructor.Vector.random2D(),diameter:6*t.int(t.random(10,24)),color:r[Math.floor(t.random(r.length))]}));s=[];for(var f=0;f<h;f++)s.push(new l({position:m()}));e=new d},t.draw=function(){if(e.eateningTimer%10<5?t.background("#DEF0F7"):t.background("black"),t.frameCount%50===0){var n=m();s.push(new l({position:n}))}a.forEach((function(i){i.update(),i.draw(),i.chewing&&i.chewingTimer--,i.chewingTimer<=0&&(i.chewing=!1,i.chewingTimer=300),s.filter((function(t){return!t.eaten})).forEach((function(t){i.position.dist(t.position)<(i.diameter+t.diameter)/2&&(i.toSize(i.diameter+6),t.eaten=!0)})),e.diameter>6&&!i.chewing&&i.position.dist(e.position)<(i.diameter+e.diameter)/2&&(i.toSize(i.diameter+6),i.chewing=!0,e.eatening=!0,e.toSize(e.diameter-6)),i.diameter>168&&(i.toSize(90),a.push(new u({position:i.position.copy().add(20,0),vector:t.createVector(0,0),diameter:90,color:i.color})))})),s.filter((function(t){return!t.eaten})).forEach((function(t){t.draw(),e.position.dist(t.position)<(e.diameter+t.diameter)/2&&(e.toSize(e.diameter+6),t.eaten=!0)})),e.update(),e.draw(),e.eatening&&e.eateningTimer--,e.eateningTimer<=0&&(e.eatening=!1,e.eateningTimer=20),i.setNumOfMarimos(a.length)};var u=function(){function e(t){Object(M.a)(this,e),this.position=t.position,this.vector=t.vector,this.diameter=t.diameter,this.color=t.color,this.chewing=!1,this.chewingTimer=300,this.dividing=!1,this.matrix=j(this.color,this.diameter)}return Object(S.a)(e,[{key:"draw",value:function(){b(this.matrix,this.position)}},{key:"update",value:function(){var e=this;this.position.add(this.vector),t.frameCount%900===0&&this.vector.mult(.9),(this.position.x<=0||this.position.x>n)&&(this.vector.x=-1.3*this.vector.x),(this.position.y<=0||this.position.y>o)&&(this.vector.y=-1.3*this.vector.y),a.forEach((function(t){if(e!==t&&(e.position.dist(t.position),e.diameter,t.diameter,e.position.dist(t.position)<(e.diameter+t.diameter)/2.1)){var i=t.position.copy().sub(e.position);e.vector.sub(i.mult(.2).setMag(1)),t.vector.add(i.mult(.2).setMag(1))}}));var i=2.4;this.vector.x>i&&(this.vector.x=i),this.vector.x<-2.4&&(this.vector.x=-2.4),this.vector.y>i&&(this.vector.y=i),this.vector.y<-2.4&&(this.vector.y=-2.4)}},{key:"toSize",value:function(t){this.diameter=t,this.matrix=j(this.color,this.diameter)}}]),e}(),l=function(){function t(e){Object(M.a)(this,t),this.position=e.position,this.diameter=4,this.color="#fff",this.eaten=!1,this.matrix=j(this.color,this.diameter)}return Object(S.a)(t,[{key:"draw",value:function(){b(this.matrix,this.position)}}]),t}(),d=function(){function e(i){Object(M.a)(this,e),this.position=t.createVector(0,0),this.diameter=18,this.color="#219EBC",this.eatening=!1,this.eateningTimer=20,this.matrix=j(this.color,this.diameter)}return Object(S.a)(e,[{key:"draw",value:function(){b(this.matrix,this.position)}},{key:"update",value:function(){var e=t.mouseX-this.position.x;this.position.x+=.01*e;var i=t.mouseY-this.position.y;this.position.y+=.01*i}},{key:"toSize",value:function(t){this.diameter=t,this.matrix=j(this.color,this.diameter)}}]),e}(),m=function(){return t.createVector(t.random(0,n),t.random(0,o))},p=function(t,e,i){return function(t,e){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}(t,e)<=i},f=function(t,e,i){return p(t,e,i)&&!(p(t+1,e,i)&&p(t-1,e,i)&&p(t,e+1,i)&&p(t,e-1,i)&&p(t+1,e+1,i)&&p(t+1,e-1,i)&&p(t-1,e-1,i)&&p(t-1,e+1,i))},j=function(e,i){for(var n,o=Math.ceil(i/6)/2,r=t.lerpColor(t.color("black"),t.color(e),.6),a=t.lerpColor(t.color("black"),t.color(e),.66),c=t.lerpColor(t.color("black"),t.color(e),.9),s=e,h=t.lerpColor(t.color("white"),t.color(e),.9),u=t.lerpColor(t.color("white"),t.color(e),.8),l=[],d=0,m=-(n=2*o%2===0?2*Math.ceil(o-.5)+1:2*Math.ceil(o))/2+1;m<=n/2-1;m++){l[d]=[];for(var j=-n/2+1;j<=n/2-1;j++)p(j,m,o)?!f(j,m,o)||f(j+(j>0?1:-1),m,o)&&f(j,m+(m>0?1:-1),o)?p(j+2,m+2,1)?l[d].push(u):p(j+2,m+2,o-7)?t.random()<.3?l[d].push(u):l[d].push(h):p(j+2,m+2,o-6)?l[d].push(h):p(j+2,m+2,o-4)?t.random()<.3?l[d].push(h):l[d].push(s):p(j+1,m+1,o-3)?l[d].push(s):p(j+1,m+1,o-2)?t.random()<.3?l[d].push(s):l[d].push(c):p(j+1,m+1,o-1)?l[d].push(c):l[d].push(a):l[d].push(r):l[d].push(null);d++}return l};function b(e,i){t.push(),t.translate(i.x,i.y);for(var n=0;n<e.length;n++)for(var o=0;o<e.length;o++)if(e[n][o]){var r=6*(o-e.length/2),a=6*(n-e.length/2);t.fill(e[n][o]),t.rect(r,a,6)}t.pop()}}var N=[{path:"/",Component:x},{path:"/about",Component:w},{path:"/rules",Component:y},{path:"/game",Component:function(){var t=Object(n.useState)(0),e=Object(m.a)(t,2),i=e[0],r=e[1],a=Object(n.useState)(null),c=Object(m.a)(a,2),h=c[0],u=c[1];return Object(s.jsxs)(o.a.Fragment,{children:[Object(s.jsxs)("div",{className:"data-box",children:[Object(s.jsxs)("p",{children:["Number of Marimos: ",i]}),Object(s.jsxs)("p",{children:["Timer: ",h]})]}),Object(s.jsx)(C.a,{sketch:k,setNumOfMarimos:r,timer:h,setTimer:u})]})}},{path:"/the-end",Component:function(){return Object(s.jsx)(s.Fragment,{children:"Game Over"})}}],E=i(33),I=i(0),A=i(16),R=i.n(A),F=function(t){var e=t.children,i=t.path,n=o.a.useContext(f).dispatchTransitionType;return Object(s.jsx)(d.b,{path:i,children:function(t){var i=t.match;return Object(s.jsx)(E.a,{in:null!==i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,addEndListener:function(t,e){null!==i?(console.log("in"),n({type:"START_TRANSITION"}),c.a.to(t,{duration:.3,opacity:1,delay:.3,ease:I.b.easeInOut,onComplete:function(){n({type:p})}})):(console.log("out"),c.a.to(t,{opacity:0,duration:.3,ease:I.b.easeInOut,onComplete:function(){n({type:p}),e()}}))},children:Object(s.jsx)("div",{id:"wrap",className:R.a.TransitionMatchHOC,children:o.a.cloneElement(e,i)})})}})};var D=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(h,{}),Object(s.jsx)(b,{children:N.map((function(t,e){var i=t.path,n=t.Component;return Object(s.jsx)(F,{path:i,children:Object(s.jsx)(n,{})},e+i)}))})]})},P=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,34)).then((function(e){var i=e.getCLS,n=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;i(t),n(t),o(t),r(t),a(t)}))};a.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(D,{})}),document.getElementById("root")),P()}},[[30,1,2]]]);
//# sourceMappingURL=main.911225fc.chunk.js.map